<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml11-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

  <head>
    <title th:text="#{title}"></title>
    <style type="text/css" th:inline="text">

      @page {
        size: A4 portrait;
        margin: 4.5em 2em 2em 4em;

        @top-center {
          padding-right: 5em;
          text-align: right;
          font-family: Arial, sans-serif;
          font-size: 11pt;
          font-weight: bold;
          text-transform: uppercase;
          content: "[[#{title}]]";
        }

        @top-right {
          text-align: center;
          font-family: Arial, sans-serif;
          font-size: 11pt;
          content: counter(page);
        }
      }

      @page:first {
        margin-top: 1em;

        @top-center {
          content: normal;
        }

        @top-right {
          content: normal;
        }
      }

      body {
        font-family: Arial, sans-serif;
        font-size: 12pt;
      }

      h1 {
        margin: 0;
        font-size: 1em;
        text-transform: uppercase;
      }

      .header {
        margin-left: 50%;
      }

      .law-reference {
        font-weight: bold;
      }

      .date {
        width: 12em;
        margin-top: .2em;
        margin-bottom: 1em;
        padding: .2em .3em;
        border: 1px solid black;
      }

      .label {
        margin-bottom: .5em;
        font-size: .8em;
      }

      h2 {
        margin: 0;
        font-size: 1em;
      }

      table {
        width: 100%;
        padding: 0;
        border: 1px solid black;
        border-collapse: collapse;
      }

      tr, th, td {
        margin: 0;
      }

      tr {
        page-break-inside: avoid;
      }

      th, td {
        padding: .5em .3em;
        border: 1px solid black;
        text-align: left;
        vertical-align: top;
      }

      th {
        width: 15%;
      }

      td {
        border-left: 1px solid black;
      }

      div {
        min-height: 1em;
      }

      .preserve-line-breaks {
        white-space: pre-line;
      }

      .no-bottom-border {
        border-bottom: 0;
      }

    </style>
  </head>

  <body>

    <div class="header">

      <h1 th:text="#{title}">Seloste käsittelytoimista</h1>

      <div th:text="#{lawReference}" class="law-reference">EU-tietosuoja-asetus EU 2016/679</div>

      <div class="date">
        <div th:text="#{date}" class="label">Laatimispäivä</div>
        <div th:text="${#dates.format(lastModifiedDate, 'dd.MM.yyyy')}">05.01.2018</div>
      </div>

    </div>

    <table>
      <tr>
        <th rowspan="3"><h2>1<br/><span th:text="#{registrar}">Rekisterinpitäjä</span></h2></th>
        <td>
          <div th:text="#{registrar.name}" class="label">Nimi</div>
          <div th:text="${registrarName}"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div th:text="#{registrar.address}" class="label">Osoite</div>
          <div th:text="${registrarAddress}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div th:text="#{registrar.otherInfo}" class="label">Muut yhteystiedot</div>
          <div th:text="${registrarOtherInfo}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th rowspan="3"><h2>2<br/><span th:text="#{contactPerson}">Yhteyshenkilö rekisteriä koskevissa asioissa</span></h2></th>
        <td>
          <div th:text="#{contactPerson.name}" class="label">Nimi</div>
          <div th:text="${contactPersonName}"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div th:text="#{contactPerson.address}" class="label">Osoite</div>
          <div class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div th:text="#{contactPerson.otherInfo}" class="label">Muut yhteystiedot</div>
          <div th:text="${contactPersonOtherInfo}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th rowspan="2"><h2>3<br/><span th:text="#{dataProtectionPerson}">Tietosuojavastaava</span></h2></th>
        <td>
          <div th:text="#{dataProtectionPerson.name}" class="label">Tietosuojavastaavan nimi</div>
          <div th:text="${dataProtectionPersonName}"></div>
        </td>
      </tr>
      <tr>
        <td>
          <div th:text="#{dataProtectionPerson.contactInfo}" class="label">Tietosuojavastaavan yhteystiedot</div>
          <div th:text="${dataProtectionPersonContactInfo}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th><h2>4<br/><span th:text="#{registerName}">Rekisterin nimi</span></h2></th>
        <td>
          <div th:text="${registerName}"></div>
        </td>
      </tr>
      <tr>
        <th><h2>5<br/><span th:text="#{purposeOfPersonRegister}">Henkilötietojen käsittelyn tarkoitus</span></h2></th>
        <td>
          <div th:text="${purposeOfPersonRegister}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th><h2>6<br/><span th:text="#{registerContent}">Rekisterin tietosisältö</span></h2></th>
        <td>
          <div th:text="${registerContent}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th><h2>7<br/><span th:text="#{registerSources}">Säännönmukaiset tietolähteet</span></h2></th>
        <td>
          <div th:text="${registerSources}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th><h2>8<br/><span th:text="#{dataTransfers}">Tietojen säännönmukaiset luovutukset</span></h2></th>
        <td>
          <div th:text="${dataTransfers}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th><h2>9<br/><span th:utext="#{dataTransfersOutsideEuOrEea}">Tietojen siirto<br/>EU:n tai ETA:n ulkopuolelle</span></h2></th>
        <td>
          <div th:text="${dataTransfersOutsideEuOrEea}" class="preserve-line-breaks"></div>
        </td>
      </tr>
      <tr>
        <th rowspan="2" class="no-bottom-border"><h2>10<br/><span th:text="#{principlesForSecurity}">Rekisterin suojauksen periaatteet</span></h2></th>
        <td class="no-bottom-border">
          <div th:text="#{principlesForPhysicalSecurity}" class="label">A Manuaalinen aineisto</div>
          <div>
            <ul th:unless="${principlesForPhysicalSecurity.isEmpty()}">
              <li th:each="principle : ${principlesForPhysicalSecurity}" th:text="#{ 'principlesForPhysicalSecurity.' + ${principle} }"></li>
            </ul>
          </div>
        </td>
      </tr>
      <tr>
        <td class="no-bottom-border">
          <div th:text="#{principlesForDigitalSecurity}" class="label">B ATK:lla käsiteltävät tiedot</div>
          <div>
            <ul th:unless="${principlesForDigitalSecurity.isEmpty()}">
              <li th:each="principle : ${principlesForDigitalSecurity}" th:text="#{ 'principlesForDigitalSecurity.' + ${principle} }"></li>
            </ul>
          </div>
        </td>
      </tr>
    </table>

  </body>

</html>
